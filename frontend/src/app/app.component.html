<div class="d-flex flex-column min-vh-100">
  <!-- Navbar -->
  <nav class="navbar navbar-light bg-light px-3 justify-content-between">
    <a class="navbar-brand fw-normal" href="#">Artist Search</a>

    <ul class="nav nav-tabs" *ngIf="isLoggedIn; else guestTabs">
      <li class="nav-item">
        <a class="nav-link" routerLink="/search" routerLinkActive="active">Search</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/favorites" routerLinkActive="active">Favorites</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle d-flex align-items-center" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <img [src]="userAvatarUrl" class="rounded-circle me-2" style="width: 30px; height: 30px;" alt="Profile" />
        <span>{{ userFullName }}</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end custom-dropdown">
          <li>
            <button class="dropdown-item text-danger fw-semibold" (click)="deleteAccount()">
              Delete account
            </button>
          </li>
          <li class="dropdown-divider my-1"></li>
          <li>
            <button class="dropdown-item text-primary fw-medium" (click)="logout()">
              Log out
            </button>
          </li>
        </ul>
      </li>
    </ul>

    <ng-template #guestTabs>
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <a class="nav-link" routerLink="/search" routerLinkActive="active">Search</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/login" routerLinkActive="active">Log in</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/register" routerLinkActive="active">Register</a>
        </li>
      </ul>
    </ng-template>
  </nav>

  <!-- Notifications -->
  <app-notification />

  <!-- Main Content -->
  <main class="container my-4 flex-grow-1">
    <router-outlet></router-outlet>
  </main>

  <!-- Sticky Footer -->
  <footer class="bg-dark text-white text-center py-2">
    <p class="mb-0">
      Powered by 
      <a href="https://www.artsy.net" target="_blank">
        <img src="images/artsy_logo.svg" alt="Footer Logo" style="height: 24px;" />
      </a>
      <strong>Artsy</strong>
    </p>
  </footer>
</div>